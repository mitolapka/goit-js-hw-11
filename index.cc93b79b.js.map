{"mappings":"AACA,MACMA,EAAOC,SAASC,eAAe,eAC/BC,EAAUF,SAASG,cAAc,YACjCC,EAAcJ,SAASG,cAAc,cACrCE,EAAML,SAASG,cAAc,gBAEnC,IAAIG,EAAc,GACdC,EAAO,EACX,SAASC,EAAsBC,GAC3BC,SAASC,OAAOC,QAAQH,E,CAE5BI,eAAeC,IACb,IAAKR,EAEH,YADAE,EAAsB,gCAIxB,MAAMO,EAAM,qEAA6CC,mBACvDV,mEACgEC,gBAElE,IACE,MAAMU,QAAiBC,MAAMH,GACvBI,QAAaF,EAASG,OAEL,IAAnBD,EAAKE,UACM,IAATd,EACFC,EACE,6EAGFA,EACE,8DAEFJ,EAAYkB,MAAMC,QAAU,SAGjB,IAAThB,IACFL,EAAQsB,UAAY,IAGtBL,EAAKM,KAAKC,SAASC,IACjB,MAAMC,EAmBd,SAAyBD,GACvB,MAAMC,EAAO5B,SAAS6B,cAAc,OACpCD,EAAKE,UAAUC,IAAI,cAEnB,MAAMC,EAAMhC,SAAS6B,cAAc,OACnCG,EAAIC,IAAMN,EAAMO,aAChBF,EAAIG,IAAMR,EAAMS,KAChBJ,EAAIK,QAAU,OAEd,MAAMC,EAAOtC,SAAS6B,cAAc,OACpCS,EAAKR,UAAUC,IAAI,QAEnB,MAAMQ,EAAQvC,SAAS6B,cAAc,KACrCU,EAAMT,UAAUC,IAAI,aACpBQ,EAAMf,UAAY,iBAAiBG,EAAMY,QAEzC,MAAMC,EAAQxC,SAAS6B,cAAc,KACrCW,EAAMV,UAAUC,IAAI,aACpBS,EAAMhB,UAAY,iBAAiBG,EAAMa,QAEzC,MAAMC,EAAWzC,SAAS6B,cAAc,KACxCY,EAASX,UAAUC,IAAI,aACvBU,EAASjB,UAAY,oBAAoBG,EAAMc,WAE/C,MAAMC,EAAY1C,SAAS6B,cAAc,KAYzC,OAXAa,EAAUZ,UAAUC,IAAI,aACxBW,EAAUlB,UAAY,qBAAqBG,EAAMe,YAEjDJ,EAAKK,YAAYJ,GACjBD,EAAKK,YAAYH,GACjBF,EAAKK,YAAYF,GACjBH,EAAKK,YAAYD,GAEjBd,EAAKe,YAAYX,GACjBJ,EAAKe,YAAYL,GAEVV,C,CAvDYgB,CAAgBjB,GAC7BzB,EAAQyC,YAAYf,EAAK,IAGvBT,EAAKE,WAAoB,GAAPd,GACpBH,EAAYkB,MAAMC,QAAU,OAE5BlB,EAAIiB,MAAMC,QAAU,SAEpBnB,EAAYkB,MAAMC,QAAU,O,CAGhC,MAAOsB,GACPC,QAAQD,MAAM,yBAA0BA,E,EA+C5C9C,EAAKgD,iBAAiB,UAAWC,IAC/BA,EAAEC,iBACF3C,EAAc0C,EAAEE,OAAOC,SAASC,YAAYC,MAAMC,OAClD/C,EAAO,EACLO,GAAc,IAIlBV,EAAY2C,iBAAiB,SAAS,KACpCxC,GAAQ,EACNO,GAAc","sources":["src/script.js"],"sourcesContent":["\nconst API_KEY = '38400499-9377fca084918dc6c22b9bff8';\nconst form = document.getElementById('search-form');\nconst gallery = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('.load-more');\nconst mes = document.querySelector('.end-message');\n\nlet searchQuery = '';\nlet page = 1;\nfunction showErrorNotification(message) {\n    Notiflix.Notify.failure(message);\n}\nasync function searchImages() {\n  if (!searchQuery) {\n    showErrorNotification('Please enter a search query.');\n    return;\n  }\n\n  const url = `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(\n    searchQuery\n  )}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=40`;\n\n  try {\n    const response = await fetch(url);\n    const data = await response.json();\n\n    if (data.totalHits === 0) {\n      if (page === 1) {\n        showErrorNotification(\n          'Sorry, there are no images matching your search query. Please try again.'\n        );\n      } else {\n        showErrorNotification(\n          \"We're sorry, but you've reached the end of search results.\"\n        );\n        loadMoreBtn.style.display = 'none'; // Hide the \"Load More\" button when no more results.\n      }\n    } else {\n      if (page === 1) {\n        gallery.innerHTML = ''; // Clear the gallery before the first search.\n      }\n\n      data.hits.forEach((image) => {\n        const card = createPhotoCard(image);\n        gallery.appendChild(card);\n      });\n\n      if (data.totalHits <= page * 40) {\n        loadMoreBtn.style.display = 'none'; // Hide the \"Load More\" button when reaching the end of results.\n       \n        mes.style.display = 'block';\n      } else {\n        loadMoreBtn.style.display = 'flex'; // Show the \"Load More\" button.\n      }\n    }\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    //showErrorNotification('Failed to fetch images. Please try again later.');\n  }\n}\n\n\nfunction createPhotoCard(image) {\n  const card = document.createElement('div');\n  card.classList.add('photo-card');\n\n  const img = document.createElement('img');\n  img.src = image.webformatURL;\n  img.alt = image.tags;\n  img.loading = 'lazy';\n\n  const info = document.createElement('div');\n  info.classList.add('info');\n\n  const likes = document.createElement('p');\n  likes.classList.add('info-item');\n  likes.innerHTML = `<b>Likes:</b> ${image.likes}`;\n\n  const views = document.createElement('p');\n  views.classList.add('info-item');\n  views.innerHTML = `<b>Views:</b> ${image.views}`;\n\n  const comments = document.createElement('p');\n  comments.classList.add('info-item');\n  comments.innerHTML = `<b>Comments:</b> ${image.comments}`;\n\n  const downloads = document.createElement('p');\n  downloads.classList.add('info-item');\n  downloads.innerHTML = `<b>Downloads:</b> ${image.downloads}`;\n\n  info.appendChild(likes);\n  info.appendChild(views);\n  info.appendChild(comments);\n  info.appendChild(downloads);\n\n  card.appendChild(img);\n  card.appendChild(info);\n\n  return card;\n}\n\n\n\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n  searchQuery = e.target.elements.searchQuery.value.trim();\n  page = 1;\n    searchImages();\n    \n});\n\nloadMoreBtn.addEventListener('click', () => {\n  page += 1;\n    searchImages();\n        \n});"],"names":["$2aac3885343dc6b2$var$form","document","getElementById","$2aac3885343dc6b2$var$gallery","querySelector","$2aac3885343dc6b2$var$loadMoreBtn","$2aac3885343dc6b2$var$mes","$2aac3885343dc6b2$var$searchQuery","$2aac3885343dc6b2$var$page","$2aac3885343dc6b2$var$showErrorNotification","message","Notiflix","Notify","failure","async","$2aac3885343dc6b2$var$searchImages","url","encodeURIComponent","response","fetch","data","json","totalHits","style","display","innerHTML","hits","forEach","image","card","createElement","classList","add","img","src","webformatURL","alt","tags","loading","info","likes","views","comments","downloads","appendChild","$2aac3885343dc6b2$var$createPhotoCard","error","console","addEventListener","e","preventDefault","target","elements","searchQuery","value","trim"],"version":3,"file":"index.cc93b79b.js.map"}